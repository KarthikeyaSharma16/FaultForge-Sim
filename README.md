# FaultForge-Sim

## User Manual - Logic Simulator

Simulation Environment : `C++`

IDEs used : Visual Studio 2022

Execution - 
- Load the inputs in `xInputs.txt` file and make sure to also include the netlist too! (where x = s27, s298, s344, s349 etc). 
- Run the simulation, the outputs will be generated in `results.txt`

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

## User Manual - Deductive-Fault Sim

Simulation Environment : `C++` 

IDEs used : VS Code, Visual Studio 2022

The deductive Fault Simulator program has two modes of operation – 

 - Mode 0 (considering faults on all the nets of the circuit)
 - Mode B (considering faults only on those nets of the circuit as specified by the end user in the Faults.txt file found under Inputs/Faults.txt directory. 

For further clarification on how to run the program in the IDE, I have included a help section in the program itself to help the user run it. This can be achieved by compiling the code using gcc command  

`g++ FaultSimulator.cpp` 

If running on windows, `./a.exe --help` (or) `./a.exe --h` 

If running on ubuntu, `./a.out --help` (or) `./a.exe --h`

Description of options for simulation - 
- `-netlist` : specifies netlist file of the circuit to be used. 
- `-netlistInputs` : specifies input vectors to be used.  
- `-option` : Mode 0 for simulating all faults in the circuit, Mode 1 for simulating targeted faults in the circuit. 
- `-customInputs` : 0 for testing the deductive fault simulator on random input test vectors, 1 for testing the deductive fault simulator on custom input test vectors as specified in the -netlistInputs option.  
 
   **Note : Putting 1 in this option will overwrite all the input vectors already existing in the file where the input test vectors are stored.**

- `-customFaults` : 0 for testing the deductive fault simulator on random faults, 1 for testing the deductive fault simulator on custom input faults.  

   **Note : Putting 1 in this option will overwrite all the input vectors already existing in the file where the stuck-at faults are stored.**

- `-faultyInputs` : specifies the faulty file (consisting of net number and stuck-at value) path. 
- `-numFaults` : specifies the total number of faults to be simulated.  

  **Note : In both modes, this is a compulsory metric to compute the overall fault coverage, and fault coverage for each test vector.**
- `-numInputVectors` : specifies the total number of input vectors to be simulated. 

**Any incorrect command line inputs will terminate the program immediately and prompt the user to re-enter the command line inputs again.**

Example command that can be used for run the code - 
`./a.exe -netlist Netlists/s298f_2.txt -netlistInputs Results/accurateTestVectors.txt -option 1 -customInputs 1 -customFaults 1 -faultyInputs Inputs/Faults.txt -numFaults 8 -numInputVectors 8`

Using netlist `s298f_2.txt` found under the Netlists directory, use the results generated by PODEM stored under the Results directory, with the option of taking user specified faults in Faults.txt found under `Inputs/Faults.txt`, using custom inputs. numFaults and numInputVectors should be specified by the user for getting the accurate statistics of fault coverage for the set of test vectors. 

**Note: In my Implementation, the Results, Netlists and Input folders were common to both fault simulator and PODEM respectively. Since two different folders are requested for the submission, I have included all of them in both the  directories. When generating outputs from PODEM, make sure that ./Deductive_FS/Results/testVectors.txt is used for printing giving out the outputs.** 

---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

## User Manual - PODEM

Simulation Environment : `C++` 

IDEs used : VS Code, Visual Studio 2022

The PODEM program has two modes of operation – 
- Mode 0 (considering random faults)
- Mode 1 - considering faults only on those nets of the circuit as specified by the end user in the Faults.txt file found under Inputs/Faults.txt directory. 

For further clarification on how to run the program in the IDE, I have included a help section in the program itself to help the user run it. This can be achieved by compiling the code using gcc command

`g++ podem.cpp` 

If running on windows, `./a.exe --help` (or) `./a.exe --h` 

If running on ubuntu, `./a.out --help` (or) `./a.exe –h` 

Description of options for simulation - 
- `-netlist` : specifies netlist file of the circuit to be used.  
- `-faultyFile` : specifies the faulty file (consisting of net number and stuck-at value) path. 
- `-randomFaultMode` : specifies whether randomly generated faults must be used for the test generation. The value must be either 0 or 1. 0 - Custom Faults, 1 - Random Faults. 
- `-testVectorsLoc` : specifies the location where test vectors generated by PODEM will be stored. Found under Results/testVectors.txt 

*For ease of use, I have removed the overhead of manually inputting 0s and 1s by the user, I have automated the process. When this command runs successfully, the accurate test vectors that maybe plugged into the fault simulator can be found under Results/accurateTestVectors.txt*

Since this program is run on visual studio, outputs printed on the console about objective, PI assignment, DFrontiers etc will not be be visible for all the faults. Hence, the first line of the main function 
`freopen("Results/CommandLineOutputs.txt","w",stdout);` can be uncommented to be used for printing all the command line outputs to `CommandLineOutputs.txt` file located in the Results directory. 

Example Command that can be used to run the code - 
`./a.exe -netlist Netlists/s344f_2.txt -faultyFile Inputs/Faults.txt -randomFaultMode 0 -testVectorsLoc Results/testVectors.txt`

Use the netlist `s344f_2.txt` found under the Netlists directory, use the faulty file found under `Inputs/Faults.txt`. Store the test vectors in the `Results/testVectors.txt` and use 0 or 1 to specify whether random faults need to be used for test vector generation.